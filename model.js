var _0x5c4c99=_0x1c6c;(function(_0x5c9607,_0x35ef9e){var _0x26cb4f=_0x1c6c,_0x40a30a=_0x5c9607();while(!![]){try{var _0x11444a=-parseInt(_0x26cb4f(0x14c))/0x1+parseInt(_0x26cb4f(0x13b))/0x2*(-parseInt(_0x26cb4f(0x145))/0x3)+-parseInt(_0x26cb4f(0x12f))/0x4+-parseInt(_0x26cb4f(0x133))/0x5*(parseInt(_0x26cb4f(0x132))/0x6)+parseInt(_0x26cb4f(0x135))/0x7*(parseInt(_0x26cb4f(0x131))/0x8)+parseInt(_0x26cb4f(0x134))/0x9*(-parseInt(_0x26cb4f(0x139))/0xa)+parseInt(_0x26cb4f(0x12e))/0xb;if(_0x11444a===_0x35ef9e)break;else _0x40a30a['push'](_0x40a30a['shift']());}catch(_0x2a630a){_0x40a30a['push'](_0x40a30a['shift']());}}}(_0x468b,0x67d40));const mongoose=require(_0x5c4c99(0x147)),uri='mongodb://localhost:27017/autoregistro',GMT_5=0x3e8*0xe10*0x5,options={'autoIndex':![],'maxPoolSize':0xa,'serverSelectionTimeoutMS':0x1388,'socketTimeoutMS':0xafc8,'family':0x4};mongoose[_0x5c4c99(0x141)](uri,options,function(_0x525681){var _0x46d4ef=_0x5c4c99;if(_0x525681){console[_0x46d4ef(0x14b)](_0x46d4ef(0x138),_0x525681);return;}console[_0x46d4ef(0x14b)]('Conectado\x20a\x20la\x20BD');});const UsuariosSchema=new mongoose[(_0x5c4c99(0x149))]({'_id':Number,'Nombre1':String,'Nombre2':String,'Apellido1':String,'Apellido2':String,'Telefono':String,'FechaRegistro':Date,'Correo':String,'Clave':String,'Foto':String}),UsuariosModel=mongoose[_0x5c4c99(0x146)](_0x5c4c99(0x13c),UsuariosSchema),RegistrosSchema=new mongoose[(_0x5c4c99(0x149))]({'id':Number,'ip':String,'FechaRegistro':Date,'Foto':String}),RegistrosModel=mongoose[_0x5c4c99(0x146)]('Registros',RegistrosSchema);async function guardaregistro(_0x1133ad){var _0x59efa6=_0x5c4c99;_0x1133ad[_0x59efa6(0x136)]=new Date()-GMT_5;var _0x11077c=new UsuariosModel(_0x1133ad);try{var _0x5173a4=await _0x11077c[_0x59efa6(0x142)]();return 0x0;}catch(_0x4654f8){return console[_0x59efa6(0x14b)](_0x59efa6(0x13e)+_0x4654f8[_0x59efa6(0x130)]()),0x1;}}function _0x1c6c(_0x8fd528,_0x260c2b){var _0x468bf8=_0x468b();return _0x1c6c=function(_0x1c6c85,_0x5e6a59){_0x1c6c85=_0x1c6c85-0x12e;var _0x110351=_0x468bf8[_0x1c6c85];return _0x110351;},_0x1c6c(_0x8fd528,_0x260c2b);}async function buscaUsuario(_0x465622){var _0x4e1777=_0x5c4c99,_0x4d426f={'_id':_0x465622};try{var _0x1198c3=await UsuariosModel['findOne'](_0x4d426f);return _0x1198c3;}catch(_0x1caafb){return console[_0x4e1777(0x14b)](_0x4e1777(0x13a),_0x1caafb),0x1;}}async function borrarUsuario(_0x40bd46){var _0x214709=_0x5c4c99,_0x5d88e3={'_id':_0x40bd46};try{var _0x94f2bb=await UsuariosModel[_0x214709(0x13d)](_0x5d88e3);return _0x94f2bb;}catch(_0x309005){return console[_0x214709(0x14b)](_0x214709(0x140),_0x309005),0x1;}}async function listarUsuarios(){var _0xb8cb92=_0x5c4c99,_0x4a1488={},_0x6e8679={'_id':0x1,'Nombre1':0x1,'Nombre2':0x1,'Apellido1':0x1,'Apellido2':0x1,'Telefono':0x1,'FechaRegistro':0x1,'Correo':0x1};try{var _0x4c477e=await UsuariosModel[_0xb8cb92(0x143)](_0x4a1488,_0x6e8679);return _0x4c477e;}catch(_0x13f87d){return console[_0xb8cb92(0x14b)](_0xb8cb92(0x137),_0x13f87d),0x1;}}async function listarRegistros(){var _0x454893=_0x5c4c99,_0x3a20a6={},_0x5eec6d={'id':0x1,'ip':0x1,'FechaRegistro':0x1};try{var _0x400cce=await RegistrosModel['find'](_0x3a20a6,_0x5eec6d);return _0x400cce;}catch(_0x126ad5){return console[_0x454893(0x14b)]('Error\x20listando\x20registros:\x20',_0x126ad5),0x1;}}function _0x468b(){var _0x30b72d=['Error\x20escribiendo\x20registro\x20en\x20DB:\x20','findByIdAndUpdate','Error\x20borrando\x20usuario:\x20','connect','save','find','Error\x20escribiendo\x20registro\x20entrada\x20en\x20DB:\x20','543qvxSfb','model','mongoose','Error\x20actualizando\x20usuario:\x20','Schema','_id','log','677240CsVAOU','32596597EIChNa','2757756OSKrSs','toString','1160laWdsN','90Iugare','173505HfYYRr','1298754RIOooa','16982DdHPJx','FechaRegistro','Error\x20listando\x20usuarios:\x20','Error\x20conectando\x20con\x20BD:\x20','50EpmEMy','Error\x20buscando\x20usuario:\x20','3106xdzQET','Usuarios','deleteOne'];_0x468b=function(){return _0x30b72d;};return _0x468b();}async function ActualizarUsuario(_0x4a3d26){var _0x33d8e2=_0x5c4c99;try{var _0x1606b0=await UsuariosModel[_0x33d8e2(0x13f)](_0x4a3d26[_0x33d8e2(0x14a)],_0x4a3d26);return _0x1606b0;}catch(_0x32f0bc){return console['log'](_0x33d8e2(0x148),_0x32f0bc),0x1;}}async function guardaEntrada(_0x4e93ef){var _0x3fee30=_0x5c4c99;_0x4e93ef[_0x3fee30(0x136)]=new Date()-GMT_5;var _0x24647e=new RegistrosModel(_0x4e93ef);try{var _0x4fa1ad=await _0x24647e[_0x3fee30(0x142)]();return 0x0;}catch(_0x1237d9){return console['log'](_0x3fee30(0x144)+_0x1237d9['toString']()),0x1;}}module['exports']={'guardaregistro':guardaregistro,'buscaUsuario':buscaUsuario,'listarUsuarios':listarUsuarios,'ActualizarUsuario':ActualizarUsuario,'guardaEntrada':guardaEntrada,'listarRegistros':listarRegistros,'borrarUsuario':borrarUsuario};